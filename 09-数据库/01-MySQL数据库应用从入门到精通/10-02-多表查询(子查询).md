# 多表查询(子查询)

## 1. 为什么使用子查询
    
    使用连接操作在多张表中查询时,首先会进行笛卡尔积操作,然后再选取符合匹配条件的数据记录。进行笛卡尔积操作时,
    得到的数据记录数量等于各表数量的乘积,如果表的数据记录比较大,进行笛卡尔积操作时容易造成死机。
    
    为了解决该问题,MySQL提供了子查询操作来代替。子查询也称为嵌套查询。
    
    通过子查询可以实现多表查询,该查询语句中可能包含 IN、ANY、ALL和EXISTS等关键字,除此之外也可以包含比较符。
    理论上子查询可以出现在查询的任何位置,但在实际开发中,子查询经常出现在WHERE和FROM子句中。

- WHERE子句中的子查询: 该位置的子查询一般返回单行单列、多行单列、单行多列数据记录。
- FROM子句中的子查询: 该位置的子查询一般返回多行多列的数据记录,可以当做一张临时表。

## 2. 返回结果为单行单列子查询

例子: 从t_employee表中查询出工资比员工SMITH高的员工信息。

    select * from t_employee 
    where sal > (
        select sal from t_employee where ename='SMITH'
    );

## 3. 返回结果为单行多列子查询(这种子查询的情况比较少见)

例子: 从t_employee表中查询出工资和职位都和SMITH一样的员工信息。

    select * from t_employee
    where (sal,job)=(       //注意该行的语法格式!!
        select sal,job from t_employee where ename = 'SMITH'
    );

## 3. 返回结果为多行单列子查询(这种子查询的情况比较少见)

#### 3.1 带有关键字IN的子查询


#### 3.2 带有关键字ANY的子查询


#### 3.3 带有关键字ALL的子查询


#### 3.4 带有关键字EXISTS的子查询


## 4. 返回结果为多行多列子查询(子查询的数据看做一张临时表)